---
title: Looking for something?
intro: Search the site for articles, case studies, and resources on accessibility, design, and frontend development.
layout: default
permalink: search.html
---

<form id="search-form" role="search">
    <label class="visually-hidden" for="search">Enter search term</label>
    <input id="search" name="search" type="search" autocomplete="off" />
    <button type="submit">Search</button>
</form>

<div id="status" role="status" aria-live="polite"></div>
<div id="results" class="results"></div>

<script type="module">
  const pagefind = await import("/pagefind/pagefind.js");

  const form = document.getElementById("search-form");
  const input = document.getElementById("search");
  const resultsContainer = document.getElementById("results");
  const statusContainer = document.getElementById("status");

  let ranInitial = false;

  async function performSearch(query, updateUrl = true) {
    resultsContainer.innerHTML = "";
    statusContainer.textContent = "";
    if (!query) return;

    if (updateUrl) {
      const url = new URL(window.location);
      url.searchParams.set("q", query);
      window.history.replaceState({}, "", url);
    }

    const searchResults = await pagefind.search(query);
    if (!searchResults || !searchResults.results?.length) {
      statusContainer.textContent = `No results for “${query}”`;
      return;
    }

    const safeQuery = query.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    const wordMatch = new RegExp(`\\b${safeQuery}\\b`, "i");
    const inUrl = new RegExp(safeQuery, "i");

    const filtered = [];
    for (const result of searchResults.results) {
      const data = await result.data();
      if (
        wordMatch.test(data.content || "") ||
        wordMatch.test(data.meta?.title || "") ||
        inUrl.test(data.url || "")
      ) filtered.push(data);
    }

    if (!filtered.length) {
      statusContainer.textContent = `No results for “${query}”`;
      return;
    }

    statusContainer.textContent =
      `${filtered.length} result${filtered.length > 1 ? "s" : ""} for “${query}”`;

    for (const data of filtered) {
      const item = document.createElement("article");
      item.className = "result";
      item.innerHTML = `
        <h2><a href="${data.url}">${data.meta?.title || data.url}</a></h2>
        <p>${data.excerpt}</p>
      `;
      resultsContainer.appendChild(item);
    }
  }

  (function initFromUrl() {
    const q = new URLSearchParams(window.location.search).get("q");
    if (q && !ranInitial) {
      input.value = q;
      ranInitial = true;
      performSearch(q, false);
    }
  })();

  window.addEventListener("pageshow", (e) => {
    if (!e.persisted) return;
    const q = new URLSearchParams(window.location.search).get("q");
    if (q) {
      input.value = q;
      performSearch(q, false);
    }
  });

  form.addEventListener("submit", (e) => {
    e.preventDefault();
    performSearch(input.value.trim(), true);
  });
</script>

<script>
  document.addEventListener("keydown", (event) => {
    const isMac = navigator.platform.toUpperCase().includes("MAC");
    const modifierPressed = isMac ? event.metaKey : event.ctrlKey;

    if (modifierPressed && event.key.toLowerCase() === "f") {
      event.preventDefault();
      const input = document.getElementById("search");
      if (input) input.focus();
    }
  });
</script>
